<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>小站</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-02-09T15:40:35.947Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>小羽</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>glob 模块</title>
    <link href="http://yoursite.com/2020/02/09/glob%20%E6%A8%A1%E5%9D%97/"/>
    <id>http://yoursite.com/2020/02/09/glob%20%E6%A8%A1%E5%9D%97/</id>
    <published>2020-02-09T15:40:35.947Z</published>
    <updated>2020-02-09T15:40:35.947Z</updated>
    
    <content type="html"><![CDATA[<p>目录文件名查找模块。在查找路径中使用通配符，可以找到满足指定条件的所有文件路径名。</p><h4 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h4><p>该模块包括3个函数，glob用于一次性返回指定路径匹配的文件名；iglob和glob功能一样，同样查找匹配的文件名，但是返回对象是迭代器，即每次输出一个；escape在路径中选出*、？、[ 符号。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">glob.glob(pathname, *, recursive=False)   -&gt;   list</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">glob.iglob(pathname, *, recursive=False)  -&gt;   iterator object</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">glob.escape(pathname)</span><br></pre></td></tr></table></figure><p>输入路径名支持通配符：</p><table><thead><tr><th>符号</th><th>含义</th></tr></thead><tbody><tr><td>*</td><td>匹配0到多个字符</td></tr><tr><td>？</td><td>匹配1个字符</td></tr><tr><td>[a-z],[0-9]等</td><td>表示范围，匹配1个字符</td></tr></tbody></table><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><h5 id="glob"><a href="#glob" class="headerlink" title="glob"></a>glob</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> glob</span><br><span class="line">glob.glob(<span class="string">'/root/data/test1/65*.csv'</span>)</span><br><span class="line"><span class="comment">#输出‘/root/data/test1/’目录下所有65开头的csv文件</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">['/root/data/test1/65bbf6d7a405afa6348d.csv',</span></span><br><span class="line"><span class="string"> '/root/data/test1/659a34281cc2fe85020e.csv',</span></span><br><span class="line"><span class="string"> '/root/data/test1/65bc1c8c4975caff0964.csv',</span></span><br><span class="line"><span class="string"> '/root/data/test1/65657f592decf6d14040.csv',</span></span><br><span class="line"><span class="string"> '/root/data/test1/65f046177650d25f7b42.csv']</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">glob.glob(<span class="string">'/root/*/[0-9].*'</span>)</span><br><span class="line"><span class="comment">#返回列表包括root的所有子目录中所有以一个数字命名的各种类型文件</span></span><br></pre></td></tr></table></figure><p>上文目录都是Linux系统下，Windows下目录格式不同，为了防转义，可以在字符串前加”r”<br>比如：r’C:\Users\USER\OneDrive\桌面*.txt’  或  ‘C:\Users\USER\OneDrive\桌面\*.txt’</p><h5 id="iglob"><a href="#iglob" class="headerlink" title="iglob"></a>iglob</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> glob</span><br><span class="line">a=glob.iglob(<span class="string">'/root/data/test1/65*.csv'</span>) </span><br><span class="line"><span class="comment">#&lt;generator object _iglob at 0x7f01d5820d00&gt;</span></span><br><span class="line">next(a)</span><br><span class="line"><span class="comment">#输出：'/root/data/test1/65bbf6d7a405afa6348d.csv'</span></span><br><span class="line">next(a)</span><br><span class="line"><span class="comment">#输出：'/root/data/test1/659a34281cc2fe85020e.csv'</span></span><br></pre></td></tr></table></figure><h5 id="escape"><a href="#escape" class="headerlink" title="escape"></a>escape</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> glob</span><br><span class="line">glob.escape(<span class="string">'C:\\Users\\USER\\One?riv[a-f]\\桌面\\*.pdf'</span>)</span><br><span class="line"><span class="comment">#输出：'C:\\Users\\USER\\One[?]riv[[]a-f]\\桌面\\[*].pdf'</span></span><br><span class="line"><span class="comment">#？*[三个符号会被[]所包括</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;目录文件名查找模块。在查找路径中使用通配符，可以找到满足指定条件的所有文件路径名。&lt;/p&gt;
&lt;h4 id=&quot;常用函数&quot;&gt;&lt;a href=&quot;#常用函数&quot; class=&quot;headerlink&quot; title=&quot;常用函数&quot;&gt;&lt;/a&gt;常用函数&lt;/h4&gt;&lt;p&gt;该模块包括3个函数，glo
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>random 模块</title>
    <link href="http://yoursite.com/2020/02/08/random%20%E6%A8%A1%E5%9D%97/"/>
    <id>http://yoursite.com/2020/02/08/random%20%E6%A8%A1%E5%9D%97/</id>
    <published>2020-02-08T15:39:02.745Z</published>
    <updated>2020-02-08T15:39:02.745Z</updated>
    
    <content type="html"><![CDATA[<p>title: ‘’’random 模块’’’<br>date: 2020-02-08 13:07:32<br>tags: python</p><p>包括生成随机对象的函数。</p><h4 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h4><p>部分函数具体介绍和示例见下文。randint返回随机整数；uniform和random返回随机浮点数；choice、sample和randrange从原序列中随机选择元素并返回；shuffle打乱原输入列表的顺序。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">random.randint(a,b)</span><br><span class="line"><span class="comment">#随机返回[a,b]间的一个数，包括a和b</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">random.randrange(start, stop=<span class="literal">None</span>, step=<span class="number">1</span>)</span><br><span class="line"><span class="comment">#随机返回range生成的序列中的一个</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">random.choice(seq)</span><br><span class="line"><span class="comment">#随机选择非空序列中的一个元素</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">random.sample(population, k)</span><br><span class="line"><span class="comment">#从序列或集合population中随机返回k个元素</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">random.shuffle(x, random=<span class="literal">None</span>)</span><br><span class="line"><span class="comment">#将列表x随机打乱顺序，返回random(默认为None)</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">random.random()</span><br><span class="line"><span class="comment">#随机返回[0,1)间的一个浮点数,不包括1</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">random.uniform(a,b)</span><br><span class="line"><span class="comment">#随机返回[a,b]间的一个浮点数</span></span><br></pre></td></tr></table></figure><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><h5 id="randint"><a href="#randint" class="headerlink" title="randint"></a>randint</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.randint(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line"><span class="comment">#输出1~10间任意数，包括1和10</span></span><br></pre></td></tr></table></figure><h5 id="randrange"><a href="#randrange" class="headerlink" title="randrange"></a>randrange</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.randrange(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line"><span class="comment">#在[1,10)中随机返回1个数</span></span><br><span class="line">random.randrange(<span class="number">5</span>)</span><br><span class="line"><span class="comment">#在[0,5)中随机返回1个数（若不指定初值，则从0开始）</span></span><br><span class="line">random.randrange(<span class="number">1</span>,<span class="number">10</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">#在[1,3,5,7,9]中随机返回1个数(因为步长为2)</span></span><br></pre></td></tr></table></figure><h5 id="choice"><a href="#choice" class="headerlink" title="choice"></a>choice</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.choice(<span class="string">'asdf'</span>)</span><br><span class="line">random.choice([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="comment">#以上都随机输出序列中的一个元素</span></span><br><span class="line"><span class="comment">#输入不能是set类型</span></span><br></pre></td></tr></table></figure><h5 id="sample"><a href="#sample" class="headerlink" title="sample"></a>sample</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.sample(<span class="string">'abcd'</span>,<span class="number">2</span>)</span><br><span class="line"><span class="comment">#输出：['a','c']</span></span><br><span class="line">random.sample([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],<span class="number">3</span>)</span><br><span class="line"><span class="comment">#输出：[3,1,5]</span></span><br><span class="line"><span class="comment">#以上均随机返回指定数量元素的列表</span></span><br></pre></td></tr></table></figure><h5 id="shuffle"><a href="#shuffle" class="headerlink" title="shuffle"></a>shuffle</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">random.shuffle(a)</span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#输出：[3, 6, 5, 1, 2, 4]   随机打乱输入对象</span></span><br><span class="line"><span class="comment">#输入是list类型，不能是str、set类型等</span></span><br></pre></td></tr></table></figure><h5 id="random"><a href="#random" class="headerlink" title="random"></a>random</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">random.random()</span><br><span class="line"><span class="comment">#注意此处random是函数名，不能直接random()</span></span><br></pre></td></tr></table></figure><h5 id=""><a href="#" class="headerlink" title=""></a></h5>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;title: ‘’’random 模块’’’&lt;br&gt;date: 2020-02-08 13:07:32&lt;br&gt;tags: python&lt;/p&gt;
&lt;p&gt;包括生成随机对象的函数。&lt;/p&gt;
&lt;h4 id=&quot;常用函数&quot;&gt;&lt;a href=&quot;#常用函数&quot; class=&quot;headerli
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>itertools 模块</title>
    <link href="http://yoursite.com/2020/02/07/itertools%20%E6%A8%A1%E5%9D%97/"/>
    <id>http://yoursite.com/2020/02/07/itertools%20%E6%A8%A1%E5%9D%97/</id>
    <published>2020-02-07T15:17:55.960Z</published>
    <updated>2020-02-08T15:40:07.173Z</updated>
    
    <content type="html"><![CDATA[<p>title: ‘’’itertools 模块’’’<br>date: 2020-02-06 22:35:32<br>tags: python</p><p>包括创建和使用迭代器的函数。</p><p>迭代器是可以记录遍历位置。迭代器对象从集合的第一个元素开始访问，直到所有的元素被访问完结束。迭代器只能往前不会后退。</p><h4 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h4><p>itertools模块包括较多关于迭代器创建、合并、切分等操作的函数，这里介绍如下几个。</p><p>permutations生成一个迭代对象的全排列； chain连接多个列表或者迭代器；cycle对输入对象生成循环迭代对象；count基于给定初值和步长，进行无限迭代；islice指定起、终点、步长的迭代器。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">itertools.permutations(iterable,r=None) --&gt; permutations object</span><br><span class="line"><span class="comment">#r表示迭代器中元素的长度</span></span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">itertools.chain(*iterables) --&gt; chain object</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">itertools.cycle(iterable) --&gt; cycle object</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">itertools.count(start=0,step=1) --&gt; count object</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">itertools.islice(iterable,start,stop,step=1) --&gt; islice object</span><br><span class="line"><span class="comment">#类似切片操作，但是输出为迭代器对象。</span></span><br></pre></td></tr></table></figure><p>注意：对于迭代对象的输出，有限迭代对象可以转化为list，直接一次性输出。或者利用循环遍历结果等方法。内置函数next()可以用来输出迭代对象。</p><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><h5 id="permutations"><a href="#permutations" class="headerlink" title="permutations"></a>permutations</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line">data=itertools.permutations(<span class="string">'abc'</span>)</span><br><span class="line">list(data)</span><br><span class="line"><span class="comment">#输出：</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">[('a', 'b', 'c'),</span></span><br><span class="line"><span class="string"> ('a', 'c', 'b'),</span></span><br><span class="line"><span class="string"> ('b', 'a', 'c'),</span></span><br><span class="line"><span class="string"> ('b', 'c', 'a'),</span></span><br><span class="line"><span class="string"> ('c', 'a', 'b'),</span></span><br><span class="line"><span class="string"> ('c', 'b', 'a')]</span></span><br><span class="line"><span class="string"> """</span></span><br><span class="line">data=itertools.permutations(<span class="string">'001'</span>)</span><br><span class="line">list(data)</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">[('0', '0', '1'),</span></span><br><span class="line"><span class="string"> ('0', '1', '0'),</span></span><br><span class="line"><span class="string"> ('0', '0', '1'),</span></span><br><span class="line"><span class="string"> ('0', '1', '0'),</span></span><br><span class="line"><span class="string"> ('1', '0', '0'),</span></span><br><span class="line"><span class="string"> ('1', '0', '0')]</span></span><br><span class="line"><span class="string"> """</span></span><br><span class="line"><span class="comment">#permutations输出的是输入对象的全排列，因此对于重复元素会出现重复结果，如('0', '0', '1')。</span></span><br></pre></td></tr></table></figure><h5 id="chain"><a href="#chain" class="headerlink" title="chain"></a>chain</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line">itertools.chain(range(<span class="number">5</span>),range(<span class="number">100</span>,<span class="number">105</span>))</span><br><span class="line"><span class="comment">#输出为迭代器对象：&lt;itertools.chain at 0x7f01d56d1cc0&gt;</span></span><br><span class="line">list(itertools.chain(range(<span class="number">5</span>),range(<span class="number">100</span>,<span class="number">105</span>)))</span><br><span class="line"><span class="comment">#输出：[0, 1, 2, 3, 4, 100, 101, 102, 103, 104]</span></span><br><span class="line">list(itertools.chain(range(<span class="number">3</span>),[<span class="string">'s'</span>,<span class="string">'a'</span>],<span class="string">'124'</span>))</span><br><span class="line"><span class="comment">#输出：[0, 1, 2, 's', 'a', '1', '2', '4']</span></span><br></pre></td></tr></table></figure><h5 id="cycle"><a href="#cycle" class="headerlink" title="cycle"></a>cycle</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> itertools.cycle(<span class="string">'abc'</span>):</span><br><span class="line">    res.append(i)</span><br><span class="line">    <span class="comment">#因为迭代对象无限循环，因此指定输出长度break</span></span><br><span class="line">    <span class="keyword">if</span> len(res)==<span class="number">7</span>:<span class="keyword">break</span></span><br><span class="line">print(res)</span><br><span class="line"><span class="comment">#输出：['a', 'b', 'c', 'a', 'b', 'c', 'a']</span></span><br></pre></td></tr></table></figure><h5 id="count"><a href="#count" class="headerlink" title="count"></a>count</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line">data=itertools.count(<span class="number">10</span>,<span class="number">2</span>)<span class="comment">#初值为10，步长为2</span></span><br><span class="line"><span class="comment">#使用循环遍历迭代结果，因为是无限迭代，所以设定大于20则退出</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">    <span class="keyword">if</span> i&gt;<span class="number">20</span>:<span class="keyword">break</span></span><br><span class="line">    print(i)</span><br><span class="line"><span class="comment">#输出：10  12  14  16  18  20</span></span><br></pre></td></tr></table></figure><h5 id="islice"><a href="#islice" class="headerlink" title="islice"></a>islice</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line">list(itertools.islice(<span class="string">'abcdefg'</span>,<span class="number">2</span>,<span class="number">5</span>))<span class="comment">#起始索引2，终止索引5，默认步长1</span></span><br><span class="line"><span class="comment">#输出：['c', 'd', 'e']</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;title: ‘’’itertools 模块’’’&lt;br&gt;date: 2020-02-06 22:35:32&lt;br&gt;tags: python&lt;/p&gt;
&lt;p&gt;包括创建和使用迭代器的函数。&lt;/p&gt;
&lt;p&gt;迭代器是可以记录遍历位置。迭代器对象从集合的第一个元素开始访问，直到所有的
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>struct 模块</title>
    <link href="http://yoursite.com/2020/02/06/struct%20%E6%A8%A1%E5%9D%97/"/>
    <id>http://yoursite.com/2020/02/06/struct%20%E6%A8%A1%E5%9D%97/</id>
    <published>2020-02-05T16:54:09.179Z</published>
    <updated>2020-02-08T15:40:35.304Z</updated>
    
    <content type="html"><![CDATA[<p>title: ‘’’struct 模块’’’<br>date: 2020-02-06 00:05:32<br>tags: python</p><p>在Python和C结构之间转换的函数，用于二进制数据存储和处理，处理c语言中的结构体。</p><h4 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h4><p>常用函数包括如下三个，pack将数据封装成字节流；unpack根据给定格式解析字节，返回tuple类型； calcsize返回给定的格式占用内存的字节数。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">struct.pack(fmt, v1, v2, ...) -&gt; bytes</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">struct.unpack(fmt, buffer) -&gt; (v1, v2, ...)</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">struct.calcsize(fmt) -&gt; int</span><br></pre></td></tr></table></figure><h4 id="格式符（fmt）"><a href="#格式符（fmt）" class="headerlink" title="格式符（fmt）"></a>格式符（fmt）</h4><p>格式符用来表示字节封装或解析的格式，注意：</p><p>1.每个格式符前可以有一个数字，表示个数，比如4s表示长度为4的字符串，2i表示两个整数；</p><p>2.q和Q只在机器支持64位操作时有意义；</p><p>3.P用来转换一个指针,其长度和计算机相关;</p><p>4.f和d的长度和计算机相关。</p><table><thead><tr><th align="center">格式符</th><th align="center">C语言类型</th><th align="center">Python类型</th><th align="center">内存大小</th></tr></thead><tbody><tr><td align="center">x</td><td align="center">填充字节</td><td align="center">无</td><td align="center">1</td></tr><tr><td align="center">c</td><td align="center">char</td><td align="center">string(长度为1)</td><td align="center">1</td></tr><tr><td align="center">b</td><td align="center">signed char</td><td align="center">int</td><td align="center">1</td></tr><tr><td align="center">B</td><td align="center">unsigned char</td><td align="center">int</td><td align="center">1</td></tr><tr><td align="center">h</td><td align="center">short</td><td align="center">int</td><td align="center">2</td></tr><tr><td align="center">H</td><td align="center">unsigned short</td><td align="center">int</td><td align="center">2</td></tr><tr><td align="center">i</td><td align="center">int</td><td align="center">int</td><td align="center">4</td></tr><tr><td align="center">I</td><td align="center">unsigned int/long</td><td align="center">int/long</td><td align="center">4</td></tr><tr><td align="center">L</td><td align="center">unsigned long</td><td align="center">long</td><td align="center">8</td></tr><tr><td align="center">q</td><td align="center">long long</td><td align="center">long</td><td align="center">8</td></tr><tr><td align="center">Q</td><td align="center">unsigned long long</td><td align="center">long</td><td align="center">8</td></tr><tr><td align="center">f</td><td align="center">float</td><td align="center">float</td><td align="center">4</td></tr><tr><td align="center">d</td><td align="center">double</td><td align="center">float</td><td align="center">8</td></tr><tr><td align="center">s</td><td align="center">char[]</td><td align="center">string</td><td align="center">1</td></tr><tr><td align="center">p</td><td align="center">char[]</td><td align="center">string</td><td align="center">1</td></tr><tr><td align="center">?</td><td align="center">_Bool</td><td align="center">bool</td><td align="center">1</td></tr></tbody></table><h4 id="对齐方式"><a href="#对齐方式" class="headerlink" title="对齐方式"></a>对齐方式</h4><table><thead><tr><th>字符</th><th>字节顺序</th><th>大小</th></tr></thead><tbody><tr><td>@（默认）</td><td>与本机一致</td><td>凑够4个字节</td></tr><tr><td>=</td><td>与本机一致</td><td>按原字节数</td></tr><tr><td>&lt;</td><td>小端</td><td>按原字节数</td></tr><tr><td>&gt;</td><td>大端</td><td>按原字节数</td></tr><tr><td>!</td><td>network（大端）</td><td>按原字节数</td></tr></tbody></table><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><h5 id="pack"><a href="#pack" class="headerlink" title="pack"></a>pack</h5><p><em>注意：</em>python3所有字符串都是 unicode 字符串，若直接用pack封装会报如下错误：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#error: argument for 's' must be a bytes object</span></span><br></pre></td></tr></table></figure><p>因此字符串处理前需要使用’utf-8’编码，具体方法如下代码段。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> struct</span><br><span class="line">a=<span class="number">10</span></span><br><span class="line">b=<span class="string">'apple'</span></span><br><span class="line">c=<span class="number">35.9</span></span><br><span class="line">d=<span class="literal">True</span></span><br><span class="line">data=struct.pack(<span class="string">"i5sf?"</span>,a,b.encode(<span class="string">'utf-8'</span>),c,d)<span class="comment">#对字符串先编码</span></span><br><span class="line">print(data)</span><br><span class="line"><span class="comment">#输出：b'\n\x00\x00\x00apple\x00\x00\x00\x9a\x99\x0fB\x01'</span></span><br></pre></td></tr></table></figure><h5 id="unpack"><a href="#unpack" class="headerlink" title="unpack"></a>unpack</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> struct</span><br><span class="line">t=struct.unpack(<span class="string">"i5sf?"</span>,data)</span><br><span class="line"><span class="comment">#或者：t1,t2,t3,t4=struct.unpack("i5sf?",data)</span></span><br><span class="line">print(t)</span><br><span class="line"><span class="comment">#输出：(10, b'apple', 35.900001525878906, True)</span></span><br></pre></td></tr></table></figure><h5 id="calcsize"><a href="#calcsize" class="headerlink" title="calcsize"></a>calcsize</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> struct</span><br><span class="line">struct.calcsize(<span class="string">'5s'</span>)</span><br><span class="line"><span class="comment">#输出：5</span></span><br><span class="line">struct.calcsize(<span class="string">'3if'</span>)</span><br><span class="line"><span class="comment">#输出：16</span></span><br><span class="line"><span class="comment">#16=3*4+4</span></span><br><span class="line">struct.calcsize(<span class="string">'i5sf?'</span>)</span><br><span class="line"><span class="comment">#输出：17</span></span><br><span class="line"><span class="comment">#17=4+5+3+4+1  </span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">注意：其中3表示填充，因为默认对齐方式为@</span></span><br><span class="line"><span class="string">字节字符串s可以以任何偏移量开头，因为其标准大小为1;</span></span><br><span class="line"><span class="string">i,f等只能以4的倍数的偏移量开头。例如0、4、8等;</span></span><br><span class="line"><span class="string">L,d等只能以8的倍数的偏移量开头。例如0、8、16等。</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">struct.calcsize(<span class="string">'=i5sf?'</span>)</span><br><span class="line"><span class="comment">#输出：14</span></span><br><span class="line"><span class="comment">#14=4+5+4+1  按原字节数</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;title: ‘’’struct 模块’’’&lt;br&gt;date: 2020-02-06 00:05:32&lt;br&gt;tags: python&lt;/p&gt;
&lt;p&gt;在Python和C结构之间转换的函数，用于二进制数据存储和处理，处理c语言中的结构体。&lt;/p&gt;
&lt;h4 id=&quot;常用函数&quot;&gt;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>pickle 模块</title>
    <link href="http://yoursite.com/2020/02/04/pickle%20%E6%A8%A1%E5%9D%97/"/>
    <id>http://yoursite.com/2020/02/04/pickle%20%E6%A8%A1%E5%9D%97/</id>
    <published>2020-02-04T15:42:00.059Z</published>
    <updated>2020-02-08T15:40:19.550Z</updated>
    
    <content type="html"><![CDATA[<p>title: ‘’’pickle 模块’’’<br>date: 2020-02-04 22:35:32<br>tags: python</p><p>创建Python数据对象的二进制序列化表示，用于存储python对象，可以存于文件或变量中。<br>使用pickle模块存储处理的对象可以是<strong>任何python数据类型、函数、类</strong>。</p><p>特点：pickle存储数据或对象，操作简单，可靠持久存储，但是数据转化后特定于python使用，无法直接阅读。</p><h4 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h4><p>常用函数包括如下四个，其中，dump和load表示和文件进行数据交互，<strong>文件后缀为*.pk</strong>；dumps和loads表示和程序中的变量进行数据交互。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pickle.dump(object, file)</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pickle.dumps(object) -&gt; string</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pickle.load(file) -&gt; object</span><br></pre></td></tr></table></figure><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pickle.loads(string) -&gt; object</span><br></pre></td></tr></table></figure><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><h5 id="dump"><a href="#dump" class="headerlink" title="dump"></a>dump</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]  <span class="comment">#数据对象可以为任何类型</span></span><br><span class="line"><span class="comment">#打开a.pk文件，将a写入</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'/root/python workspace/a.pk'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> f: </span><br><span class="line">    pickle.dump(a, f)</span><br></pre></td></tr></table></figure><h5 id="dumps"><a href="#dumps" class="headerlink" title="dumps"></a>dumps</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">f=pickle.dumps(a)<span class="comment">#写入对象不是文件，而是python变量</span></span><br><span class="line"></span><br><span class="line">print(f)</span><br><span class="line"><span class="comment">#输出：b'\x80\x03]q\x00(K\x01K\x02K\x03K\x04K\x05e.'若要知道该串代码含义，需要通过load解码。</span></span><br></pre></td></tr></table></figure><h5 id="load"><a href="#load" class="headerlink" title="load"></a>load</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"><span class="comment">#读取事先建立的a.pk文件</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'/root/python workspace/a.pk'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    a=pickle.load(f) </span><br><span class="line">print(a)</span><br><span class="line"><span class="comment">#输出：[1, 2, 3, 4, 5]'</span></span><br></pre></td></tr></table></figure><h5 id="loads"><a href="#loads" class="headerlink" title="loads"></a>loads</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line">pickle.loads(f)</span><br><span class="line"><span class="comment">#输出为上文中的a：[1, 2, 3, 4, 5]'</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;title: ‘’’pickle 模块’’’&lt;br&gt;date: 2020-02-04 22:35:32&lt;br&gt;tags: python&lt;/p&gt;
&lt;p&gt;创建Python数据对象的二进制序列化表示，用于存储python对象，可以存于文件或变量中。&lt;br&gt;使用pickle模块存储
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>&#39;hello world&#39;</title>
    <link href="http://yoursite.com/2020/02/04/hello-world/"/>
    <id>http://yoursite.com/2020/02/04/hello-world/</id>
    <published>2020-02-04T05:35:32.000Z</published>
    <updated>2020-02-08T15:44:01.701Z</updated>
    
    <content type="html"><![CDATA[<p>经过了几番折腾，终于拥有了自己的博客，虽然还有很多欠缺的地方，接下来就边写博客边补充吧。</p><p>在下在读研究生一枚，希望通过博客来整理和分享所学知识，努力坚持更新。部分内容可能不会是原创，若有侵权，请联系，我将删除。若发现文章中有错误，请指正，谢谢！</p><p>还有欢迎您的联系与交流，希望我们可以共同进步。知识，因分享而更加快乐。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;经过了几番折腾，终于拥有了自己的博客，虽然还有很多欠缺的地方，接下来就边写博客边补充吧。&lt;/p&gt;
&lt;p&gt;在下在读研究生一枚，希望通过博客来整理和分享所学知识，努力坚持更新。部分内容可能不会是原创，若有侵权，请联系，我将删除。若发现文章中有错误，请指正，谢谢！&lt;/p&gt;
&lt;p&gt;
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
